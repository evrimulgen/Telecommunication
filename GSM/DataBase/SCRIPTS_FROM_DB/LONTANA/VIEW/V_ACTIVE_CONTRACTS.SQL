
  CREATE OR REPLACE FORCE VIEW "LONTANA"."V_ACTIVE_CONTRACTS" ("CONTRACT_ID", "CONTRACT_NUM", "CONTRACT_DATE", "FILIAL_ID", "OPERATOR_ID", "PHONE_NUMBER_FEDERAL", "PHONE_NUMBER_CITY", "PHONE_NUMBER_TYPE", "TARIFF_ID", "SIM_NUMBER", "SERVICE_ID", "DISCONNECT_LIMIT", "CONFIRMED", "USER_CREATED", "DATE_CREATED", "USER_LAST_UPDATED", "DATE_LAST_UPDATED", "ABONENT_ID", "RECEIVED_SUM", "START_BALANCE", "GOLD_NUMBER_SUM", "HAND_BLOCK", "USER_PASSWORD", "CONNECT_LIMIT", "DATE_LAST_SET_PASS", "COUNT_SET_PASS_BY_DAY", "HAND_BLOCK_DATE_END") AS 
  SELECT CONTRACTS."CONTRACT_ID",CONTRACTS."CONTRACT_NUM",CONTRACTS."CONTRACT_DATE",CONTRACTS."FILIAL_ID",CONTRACTS."OPERATOR_ID",CONTRACTS."PHONE_NUMBER_FEDERAL",CONTRACTS."PHONE_NUMBER_CITY",CONTRACTS."PHONE_NUMBER_TYPE",CONTRACTS."TARIFF_ID",CONTRACTS."SIM_NUMBER",CONTRACTS."SERVICE_ID",CONTRACTS."DISCONNECT_LIMIT",CONTRACTS."CONFIRMED",CONTRACTS."USER_CREATED",CONTRACTS."DATE_CREATED",CONTRACTS."USER_LAST_UPDATED",CONTRACTS."DATE_LAST_UPDATED",CONTRACTS."ABONENT_ID",CONTRACTS."RECEIVED_SUM",CONTRACTS."START_BALANCE",CONTRACTS."GOLD_NUMBER_SUM",CONTRACTS."HAND_BLOCK",CONTRACTS."USER_PASSWORD",CONTRACTS."CONNECT_LIMIT",CONTRACTS."DATE_LAST_SET_PASS",CONTRACTS."COUNT_SET_PASS_BY_DAY",CONTRACTS."HAND_BLOCK_DATE_END" 
    FROM CONTRACTS
    WHERE CONTRACTS.CONTRACT_ID NOT IN (
        SELECT CONTRACT_CANCELS.CONTRACT_ID
          FROM CONTRACT_CANCELS) 