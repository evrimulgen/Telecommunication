
  CREATE OR REPLACE FUNCTION "CORP_MOBILE"."STATUS_CODE_TO_STATUS_ID_TEST" (
    pSTATUS_CODE IN VARCHAR2  
    ) RETURN INTEGER IS
  PRAGMA AUTONOMOUS_TRANSACTION;
    CURSOR C IS
      SELECT BEELINE_STATUS_CODE.STATUS_ID
        FROM BEELINE_STATUS_CODE
        WHERE BEELINE_STATUS_CODE.STATUS_CODE = pSTATUS_CODE;
    DUMMY C%ROWTYPE;
    vNEW_ID INTEGER;
  BEGIN
    OPEN C;
    FETCH C INTO DUMMY;
    IF C%FOUND THEN
      vNEW_ID:=DUMMY.STATUS_ID;
    ELSE
      /*
      INSERT INTO BEELINE_STATUS_CODE(STATUS_CODE, IS_ACTIVE, IS_CONSERVATION, IS_SYSTEM_BLOCK, ACCESS_BLOCK, ACCESS_UNLOCK)
        VALUES(                      pSTATUS_CODE, 1,         0,               0,               0,            0);
      COMMIT;
     */
      SELECT BEELINE_STATUS_CODE.STATUS_ID INTO vNEW_ID
        FROM BEELINE_STATUS_CODE
        WHERE BEELINE_STATUS_CODE.STATUS_CODE = pSTATUS_CODE;
    END IF;
    CLOSE C;
    RETURN vNEW_ID;
  END;