
   CREATE JAVA SOURCE NAMED "CORP_MOBILE"."LOBUtils" AS 
 import oracle.sql.BLOB;import oracle.sql.CLOB;import java.io.*;import java.sql.*;public class LOBUtils {  final static int bBufLen = 4 * 8192;  public static long BLOB2File(BLOB BLOB, String outFile)  throws IOException, SQLException {    OutputStream out = new FileOutputStream(outFile);    InputStream in = BLOB.getBinaryStream();    int length = -1;    long read = 0;    byte[] buf = new byte[bBufLen];    while ((length = in.read(buf)) != -1) {      out.write(buf, 0, length);      read += length;    }    in.close();    out.close();    return read;  }  public static long CLOB2File(CLOB clob, String outFile)  throws IOException, SQLException {    BufferedWriter out = new BufferedWriter(new FileWriter(outFile));    BufferedReader in = new BufferedReader(new InputStreamReader(clob.getAsciiStream()));    int length = -1;    long read = 0;    char[] buf = new char[bBufLen];    while ((length = in.read(buf, 0, bBufLen)) != -1) {      out.write(buf, 0, length);      read += length;    }    in.close();    out.close();    return read;  }}