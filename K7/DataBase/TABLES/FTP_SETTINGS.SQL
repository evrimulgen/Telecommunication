CREATE TABLE FTP_SETTINGS
(
  FTP_ID          INTEGER,
  FTP_LOCAL_NAME  VARCHAR2(30 BYTE)             NOT NULL,
  FTP_ADDRESS     VARCHAR2(30 CHAR),
  PORT            VARCHAR2(30 CHAR),
  LOGIN           VARCHAR2(30 CHAR),
  PASSWORD        VARCHAR2(30 CHAR),
  STATUS          NUMBER                        NOT NULL
);

COMMENT ON TABLE FTP_SETTINGS IS 'Таблица с настройками для подключения к FTP/SFTP серверам';

COMMENT ON COLUMN FTP_SETTINGS.FTP_ID IS 'Идентификатор записи';

COMMENT ON COLUMN FTP_SETTINGS.FTP_LOCAL_NAME IS 'Локальное имя сервера (для внутреннего использования)';

COMMENT ON COLUMN FTP_SETTINGS.FTP_ADDRESS IS 'Адрес сервера';

COMMENT ON COLUMN FTP_SETTINGS.PORT IS 'Порт сервера';

COMMENT ON COLUMN FTP_SETTINGS.LOGIN IS 'Логин для подключения';

COMMENT ON COLUMN FTP_SETTINGS.PASSWORD IS 'Пароль сервера';

COMMENT ON COLUMN FTP_SETTINGS.STATUS IS 'Статус (0 - не активен; 1 - Активен), у серверов с FTP_LOCAL_NAME должен быть одномоментно активен только один сервер';

CREATE SEQUENCE S_FTP_SETTINGS
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 0
  NOCYCLE
  CACHE 20
  NOORDER;


CREATE OR REPLACE TRIGGER TI_FTP_SETTINGS
--#Version=1
  BEFORE INSERT ON FTP_SETTINGS FOR EACH ROW
BEGIN
    :NEW.FTP_ID := S_FTP_SETTINGS.NEXTVAL;
END;
/
