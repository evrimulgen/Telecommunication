CREATE TABLE CRM_STATUS_REQUEST(
  STATUS_REQUEST_ID INTEGER,
  STATUS_NAME       VARCHAR2(30 CHAR)
);

GRANT SELECT ON CRM_STATUS_REQUEST TO CRM_USER;
CREATE SYNONYM CRM_USER.STATUS_REQUEST FOR CRM_STATUS_REQUEST;

CREATE SEQUENCE S_STATUS_REQUEST;

CREATE OR REPLACE TRIGGER TIU_CRM_STATUS_REQUEST
  BEFORE INSERT OR UPDATE ON CRM_STATUS_REQUEST FOR EACH ROW
--#Version=1
BEGIN
  IF INSERTING THEN
    IF NVL(:NEW.STATUS_REQUEST_ID, 0) = 0 then
      :NEW.STATUS_REQUEST_ID := S_STATUS_REQUEST.NEXTVAL;
    END IF;
  END IF;
END;
