
  CREATE OR REPLACE FUNCTION "SIM_TRADE"."FIND_ACCOUNT_ID_BY_LOGIN" (
  pLOGIN IN VARCHAR2
  ) RETURN NUMBER IS
  RES ACCOUNTS.ACCOUNT_ID%TYPE;
--#Version=2
BEGIN
  SELECT ACCOUNT_ID
    INTO RES
    FROM ACCOUNTS
    WHERE LOGIN=pLOGIN;
  RETURN RES;
EXCEPTION WHEN NO_DATA_FOUND THEN
  RAISE_APPLICATION_ERROR(-20500, 'ACCOUNT ID "' || pLOGIN || '" NOT FOUND');
END; 